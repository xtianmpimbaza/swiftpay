{"version":3,"sources":["../../src/pages/code-pay/code-pay.module.ts","../../src/pages/code-pay/code-pay.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACK;AACL;AAazC,IAAa,iBAAiB;IAA9B;IAAgC,CAAC;IAAD,wBAAC;AAAD,CAAC;AAApB,iBAAiB;IAX7B,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,8DAAW;SACZ;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,8DAAW,CAAC;SACtC;QACD,OAAO,EAAE;YACP,8DAAW;SACZ;KACF,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACf9B,qDAAqD;AACb;AAC0B;AACb;AACE;AACpB;AACgC;AAEnE;;;;;GAKG;AAMH,IAAa,WAAW;IAItB,qBAAmB,IAAU,EAAS,OAAsB,EAAS,SAAoB,EAAU,UAAsB,EAAS,MAAkB,EAAS,gBAAkC;QAA5K,SAAI,GAAJ,IAAI,CAAM;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,eAAU,GAAV,UAAU,CAAY;QAAS,WAAM,GAAN,MAAM,CAAY;QAAS,qBAAgB,GAAhB,gBAAgB,CAAkB;QAH/L,aAAQ,GAAG,EAAE,CAAC;QACd,cAAS,GAAQ,EAAE,CAAC;QAMpB,QAAG,GAAmD,EAAE,CAAC;QACzD,cAAS,GAAG,KAAK,CAAC;QAJhB,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAKD,qCAAe,GAAf;QAAA,iBA6BC;QA3BC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YACnB,2HAA2H;YAC3H,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,sCAAsC,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC,SAAS,CAAC,cAAI;gBACrH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAElB,+EAA+E;gBAC/E,mDAAmD;gBACnD,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,aAAa,EAAE,KAAI,CAAC,GAAG,CAAC,QAAQ,EAAC,CAAC,CAAC;gBACxD,mCAAmC;gBAEnC,KAAI,CAAC,QAAQ,GAAG,SAAS,GAAG,KAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,GAAG,KAAI,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;gBAC5E,KAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;gBAChD,KAAI,CAAC,MAAM,EAAE,CAAC;YAEhB,CAAC,EAAE,aAAG;gBACJ,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;gBAC3B,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,aAAa,EAAE,KAAI,CAAC,GAAG,CAAC,QAAQ,EAAC,CAAC,CAAC;gBACxD,mCAAmC;gBAEnC,KAAI,CAAC,QAAQ,GAAG,SAAS,GAAG,KAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,GAAG,KAAI,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;gBAC5E,KAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;gBAChD,KAAI,CAAC,MAAM,EAAE,CAAC;YAEhB,CAAC,CAAC,CAAC;QAGL,CAAC;IACH,CAAC;IAED,4BAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACnB,mDAAmD;IACrD,CAAC;IAED,gCAAU,GAAV,UAAW,QAAQ;QACjB,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IAC5D,CAAC;IAED,qCAAe,GAAf;QAAA,iBAWC;QAVC,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,cAAI;YAClD,4BAA4B;YAC5B,yBAAyB;YAEzB,EAAE,EAAC,IAAI,IAAI,IAAI,CAAC,EAAC;gBACf,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACxB,CAAC;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,8BAA8B;QAChC,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC,CAAC;IACxC,CAAC;IAED,6BAAO,GAAP;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;YAC9C,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAEH,kBAAC;AAAD,CAAC;AAzEY,WAAW;IALvB,uFAAS,EAAE;IACX,uFAAS,CAAC;QACT,QAAQ,EAAE,eAAe;OACG;KAC7B,CAAC;gBAK+L;AAqEhM;SAzEY,WAAW,gB","file":"2.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport { CodePayPage } from './code-pay';\n\n@NgModule({\n  declarations: [\n    CodePayPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CodePayPage),\n  ],\n  exports: [\n    CodePayPage\n  ]\n})\nexport class CodePayPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/code-pay/code-pay.module.ts","///<reference path=\"../../providers/global-vars.ts\"/>\nimport {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {CallNumber} from '@ionic-native/call-number';\nimport {GlobalVars} from \"../../providers/global-vars\";\nimport {Http} from \"@angular/http\";\nimport {SpeakersProvider} from \"../../providers/speakers/speakers\";\n\n/**\n * Generated class for the CodePayPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-code-pay',\n  templateUrl: 'code-pay.html',\n})\nexport class CodePayPage {\n  ussdcode = '';\n  merchants: any = [];\n\n  constructor(public http: Http, public navCtrl: NavController, public navParams: NavParams, private callNumber: CallNumber, public global: GlobalVars, public speakersProvider: SpeakersProvider) {\n    this.getRecentMerchs();\n  }\n\n  pay: { merchant?: any, amount?: any, reason?: any } = {};\n  submitted = false;\n\n  executeMerchant() {\n\n    if (this.isvalid()) {\n      // this.http.post(\"http://127.0.0.1:3000/savereason\", {reason: this.pay.reason}).map(res => res.json()).subscribe(data => {\n      this.http.post(\"http://142.93.42.153:3000/savereason\", {reason: this.pay.reason}).map(res => res.json()).subscribe(data => {\n        console.log(data);\n\n        // this.ussdcode = `*165*3*` + this.pay.merchant + `*` + this.pay.amount + `#`;\n        // this.callNumber.callNumber(this.ussdcode, true);\n        this.merchants.push({merchant_code: this.pay.merchant});\n        // this.saveRecent(this.merchants);\n\n        this.ussdcode = `*165*3*` + this.pay.merchant + `*` + this.pay.amount + `#`;\n        this.callNumber.callNumber(this.ussdcode, true);\n        this.goback();\n\n      }, err => {\n        console.log('error' + err);\n        this.merchants.push({merchant_code: this.pay.merchant});\n        // this.saveRecent(this.merchants);\n\n        this.ussdcode = `*165*3*` + this.pay.merchant + `*` + this.pay.amount + `#`;\n        this.callNumber.callNumber(this.ussdcode, true);\n        this.goback();\n\n      });\n\n\n    }\n  }\n\n  goback() {\n    this.navCtrl.pop();\n    // console.log('Click on button Test Console Log');\n  }\n\n  saveRecent(merchant){\n    return this.speakersProvider.saveLocalMerchants(merchant);\n  }\n\n  getRecentMerchs(){\n    this.speakersProvider.getRecentMerchants().then(data => {\n      // this.checkStatus = false;\n      // this.merchants = data;\n\n      if(data != null){\n        this.merchants = data;\n      }\n      console.log(data);\n      // this.merchant_backup = data\n    }).catch(error => console.log(error));\n  }\n\n  isvalid() {\n    if (this.pay.merchant.empty || this.pay.amount.empty) {\n      this.global.toast(\"Fill empty fields\", \"red\");\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/code-pay/code-pay.ts"],"sourceRoot":""}