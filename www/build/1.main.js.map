{"version":3,"sources":["../../src/pages/modal/modal.module.ts","../../src/pages/modal/modal.ts"],"names":[],"mappings":"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","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModalPage } from './modal';\n\n@NgModule({\n  declarations: [\n    ModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModalPage),\n  ],\n  exports: [\n    ModalPage\n  ]\n})\nexport class ModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.module.ts","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ViewController} from 'ionic-angular';\n\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\n// import {Validators, FormBuilder, FormGroup} from \"@angular/forms\";\n// import {GlobalVars} from \"../../providers/global-vars\";\nimport {Http} from \"@angular/http\";\nimport {EmailComposer} from \"@ionic-native/email-composer\";\n\n@IonicPage()\n@Component({\n  selector: 'page-modal',\n  templateUrl: 'modal.html',\n})\nexport class ModalPage implements OnInit {\n  receipient: string;\n  data: any = {};\n  credentialsForm: FormGroup;\n\n  @ViewChild('myInput') myInput: ElementRef;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    private emailComposer: EmailComposer,\n    public element: ElementRef,\n    private http: Http,\n    private loadingCtrl: LoadingController,\n    private formBuilder: FormBuilder) {\n    this.receipient = this.navParams.get('mail_receipiennt');\n    this.credentialsForm = this.formBuilder.group({\n      email_to: this.receipient,\n      // email_from: ['',Validators.compose([Validators.pattern(\n      //   /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/), Validators.required])],\n      no_html: ['']\n    });\n    this.data.response = '';\n    // this.ionViewDidLoad();\n  }\n\n  resize() {\n    var element = this.myInput['_elementRef'].nativeElement.getElementsByClassName(\"text-input\")[0];\n    var scrollHeight = element.scrollHeight;\n    element.style.height = scrollHeight + 'px';\n    this.myInput['_elementRef'].nativeElement.style.height = (scrollHeight + 16) + 'px';\n  }\n\n  ngOnInit(): void {\n    // setTimeout(() => this.adjust(), 0);\n  }\n\n  //\n  // adjust(): void {\n  //   const textArea = this.myInput['_elementRef'].nativeElement.getElementsByTagName('textarea')[0];\n  //   textArea.style.overflow = 'hidden';\n  //   textArea.style.height = 'auto';\n  //   textArea.style.height = textArea.scrollHeight + 'px';\n  // }\n\n  public sendContact() {\n    console.log('Form submit');\n  }\n\n  public closeModal() {\n    this.viewCtrl.dismiss();\n  }\n\n  public send() {\n    // console.log(this.credentialsForm.value);\n\n    this.emailComposer.isAvailable().then((available: boolean) => {\n      if (available) {\n        //Now we know we can send\n        console.log(\"mail available\");\n      }\n    });\n\n    let email = {\n      app: 'gmail',\n      to: this.credentialsForm.value.email_to,\n      subject: 'P2P from Africa Blockchain',\n      body: this.credentialsForm.value.no_html,\n      isHtml: true\n    };\n\n    // this.emailComposer.addAlias('gmail', 'com.google.android.gm');\n//\n// // then use alias when sending email\n//     this.emailComposer.open({\n//       app: 'gmail',\n//       ...\n//     });\n\n// Send a text message using default options\n    this.emailComposer.open(email);\n\n\n    // let loader = this.loadingCtrl.create({\n    //   content: \"Sending.....\"\n    // });\n    // loader.present();\n    //\n    // new Promise(resolve => {\n    //   this.http.post(this.global.api_url, this.credentialsForm.value)\n    //     .map(res => res.json())\n    //     .subscribe((result) => {\n    //         console.log(result);\n    //\n    //         if (result.feedback =='success') {\n    //           this.global.toast(\"Email sent.\", 'toast-error');\n    //           loader.dismiss();\n    //           this.closeModal();\n    //         } else {\n    //             this.global.toast(\"Error occurred, Email not sent\", 'toast-error');\n    //             loader.dismiss();\n    //         }\n    //       },\n    //       (err) => {\n    //         this.global.toast(\"Error occurred, Check your internet connection\", 'toast-error');\n    //         loader.dismiss();\n    //       });\n    // });\n    this.closeModal();\n  }\n\n  // subject: 'Request to Blockchain conference Attendee',\n  //P2P from Africa Blockchain\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.ts"],"sourceRoot":""}